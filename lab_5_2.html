<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 5.2</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, sans-serif;
            line-height: 1.6;
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f5f5;
        }
        header {
            text-align: center;
            padding: 40px 0;
            background-color: white;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        h1 {
            color: #2c3e50;
            margin: 0;
        }
        .subtitle {
            color: #7f8c8d;
            font-size: 1.2em;
            margin-top: 10px;
        }
        main {
            background-color: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        p {
            color: #34495e;
        }
        .tooltip {
            position: absolute;
            background-color: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 5px;
            border-radius: 4px;
            pointer-events: none;
        }
        .viz-item {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .viz-section {
            display: flex;
            flex-direction: column;
            align-items: left;
            margin: 40px 0;
        }
        .viz-description {
            color: #666;
            font-size: 0.95em;
            margin: 10px 0 20px 0;
            max-width: 90%;
            line-height: 1.5;
        }
        .viz-separator {
            margin: 40px 0;
            border: 0;
            height: 1px;
            background-image: linear-gradient(to right, rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0));
        }
        .elevation-filter {
            margin: 20px 0;
            padding: 10px;
            background-color: #f8f9fa;
            border-radius: 8px;
        }
        .spaghetti-line {
            fill: none;
            stroke-width: 1;
            opacity: 0.3;
        }
        .spaghetti-line:hover {
            stroke-width: 2;
            opacity: 1;
        }
        .nav {
            text-align: center;
            margin-bottom: 20px;
        }
        .nav a {
            display: inline-block;
            padding: 10px 20px;
            background-color: #3498db;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            transition: background-color 0.3s ease;
            margin: 0 10px;
        }
        .nav a:hover {
            background-color: #2980b9;
        }
        .range-slider {
            margin: 30px 10px;
            padding: 0 10px;
        }
        .noUi-connect {
            background: #3498db;
        }
        .slider-values {
            margin-top: 10px;
            text-align: center;
            color: #666;
        }
    </style>
</head>
<body>
    <nav class="nav">
        <a href="index.html">Home</a>
    </nav>
    <header>
        <h1>Lab 5.2: Sentiment/Thematic analysis</h1>
        <div class="subtitle">Blair Ednie, CS-39AE</div>
    </header>
    <main>
        <h2>Drug Review Sentiment Analysis</h2>
        <p>Dataset from Canvas: <a href="drug_review.csv" download>drug_review.csv</a></p>
        <p>These visualizations created with help from Anthropic's Claude 3.5 LLM.</p>
        
        <hr class="viz-separator">
        <div class="viz-section">
            <h3>Sentiment Distribution Heatmap for the Top 5 Drugs</h3>
            <img src="rating-heatmap-top-5.png" alt="Heatmap showing rating distribution across the top 5 drugs">
            <p class="viz-description">
                This heatmap visualizes the sentiment distribution across five different medications. The color intensity represents the strength of sentiment, with darker red indicating more positive sentiment and lighter colors showing neutral or negative sentiment. Etonogestrel shows strong positive sentiment (5 in positive column), while Nexplanon displays more negative responses.
            </p>
        </div>
        
        <hr class="viz-separator">
        <div class="viz-section">
            <h3>Comparing Ratings & Reviews: Individual Drug Sentiment Analysis for the Top 5 Drugs</h3>
            <img src="sentiment-analysis-top-5.png" alt="Individual sentiment analysis plots for each drug">
            <p class="viz-description">
                Looking at ratings versus sentiment scores shows some interesting mismatches. For instance, Suprep Bowel Prep Kit gets high ratings (9.0/10) but mostly neutral sentiment in reviews. It is possible that medical terms often get flagged as neutral even when the review is positive, and also that the word list is not capturing as many sentiment words as would be possible with a more comprehensive list.
            </p>
        </div>

        <hr class="viz-separator">
        <div class="viz-section">
            <h3>Comparative Rating Distribution for the Top 5 Drugs</h3>
            <img src="sentiment-rating-top5.png" alt="Stacked bar chart of rating distribution">
            <p class="viz-description">
                The stacked bar chart provides a clear comparison of rating distribution across all drugs. This visualization highlights how medications like Etonogestrel have a more balanced distribution of ratings, while others like the Suprep Bowel Prep Kit show concentrated neutral responses. The varying heights of the bars also indicate different sample sizes for each medication, which should be considered when interpreting the results.
            </p>
        </div>
    </main>
</body>
</html>
